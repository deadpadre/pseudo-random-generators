\documentclass[12pt, a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[margin=1.0in]{geometry}

\newcommand{\dom}{Dom \;}
\newcommand{\uniform}{Un \;}

\begin{document}

\paragraph{Определение} $\{f_n\}, \; f_n : \{0, 1\}^{l(n)} \rightarrow \{0, 1\}^{m(n)}$ - семейство односторонних функций, если:

\begin{itemize}
 \item $\{f_n\}$ - полиномиально вычислимо относительно $n$;
 \item $\forall \{C_n\}$ - последовательности схем полиномиального размера
 \[
  P[C_n(f_n(x)) \in f_n^{-1}(f_n(x))] \sim 0
 \]
 
 \item \mapsto $\dom f_n$ - доступно.

\end{itemize}

\paragraph{Определение} $d(\alpha_n, \beta_n) = \sum\limits_{x \in \dom} \frac{|\alpha_n(x) - \beta_n(x)|}{2}$

\paragraph{Определение} Последовательность $\{\alpha_n\}$ называется пренебрежимо малой, если $\forall poly(n) \; \exists N : \; \forall n > N \; |\alpha_n| < \frac{1}{poly(n)}$.

\paragraph{Определение} Распределение $\mu_n$ называется полиномиально моделируемым, если существует (вероятностный) алгоритм $A$, получающий на вход $\uniform p(n)$ и $\forall x \in \dom \mu_n \; \; P[A = x] = \mu_n(x)$.

\paragraph{Определение} Распределение $\mu_n$ называется доступным, если существует полиномиально моделируемое распределение $\eta_n$ такое, что $d(\mu_n, \eta_n) \sim 0$.

\paragraph{Свойства}

\begin{itemize}
 \item[1)] $\alpha_n \sim \beta_n, \beta_n \sim \gamma_n \Rightarrow \alpha_n \sim \gamma_n$
 \item[2)] $\alpha_n \sim \beta_n$, и $\gamma_n$ независима от $\alpha_n$ и $\beta_n$. Тогда $\alpha_n\gamma_n \sim \beta_n\gamma_n$ (конкатенация).
 
 $\triangle$ Пусть это не так. Тогда существует $\{C_n\}$ полиномиального размера, такие, что $|P[C_n(\alpha_n\gamma_n)=1] - P[C_n(\beta_n\gamma_n)=1]|$ - не пренебрежимо малая последовательность. Заметим, что $|P[C_n(\alpha_n\gamma_n)=1] - P[C_n(\beta_n\gamma_n)=1]| \leq |E_{\gamma_n}(P[C_n(\alpha_n\gamma_n)=1] - P[C_n(\beta_n\gamma_n)=1])| \leq E_{\gamma_n}(|P[C_n(\alpha_n\gamma_n)=1] - P[C_n(\beta_n\gamma_n)=1]|) \leq |P[C_n(\alpha_n\gamma_{max})=1] - P[C_n(\beta_n\gamma_{max})=1])|$, то есть $\alpha_n \ncong \beta_n$. Противоречие.$\Box$
 \item[3)] Пусть $\{T_n\}$ - последовательность схем полиномиального размера, и $\alpha_n \sim \beta_n$. Тогда $T_n(\alpha_n) \sim T_n(\beta_n)$
\end{itemize}

\paragraph{Определение} $h_n(x)$ называется трудным битом для односторонней $f_n(x)$, если $h_n(x)$ полиномиально вычислима, и $\forall \{C_n\}$ - схем полиномиального размера $P[C_n(f_n(x))=h_n(x)] \sim \frac{1}{2}$.

\paragraph{Определение} Две последовательности $\alpha_n, \beta_n$ называются вычислимыми и неотличимыми, если $\forall \{C_n\}$ - схем полиномиального размера $P[C_n(\alpha_n)=1] \sim P[C_n(\beta_n)=1]$.


\paragraph{Лемма} Пусть $\{f_n\}$ - семейство односторонних функций, являющихся перестановками, а $\{h_n\}$ - ее трудный бит. Тогда
\[
 h_n(x)f_n(x) \sim r_n f_n(x) \sim r_n x
\]
где $r_n$ - чистый случайный бит.

$\triangle$ Докажем правую эквивалентность. Поскольку $P[C_n(x)=1]=P[C_n(f_n(x))=1]$, и используем свойство III.

Докажем левую эквивалентность. От противного. Пусть $\exists \{C_n\}$ - схем полиномиального размера таких, что $\exists s(n) = poly(n)$, и $\forall N \; \exists n > N$:
\[
 |P[C_n(h_n(x)f_n(x)) = 1] - P[C_n(r_n f_n(x)) = 1]| > \frac{1}{s(n)}
\]

Построим $\{R_n\}$:

\begin{itemize}
 \item[I] $R_n(r_n, f_n(x)) = r_n$, если $C_n(0 f_n(x)) = C_n(1 f_n(x))$;
 \item[II] $R_n(r_n, f_n(x)) = 0$, если $C_n(0 f_n(x)) = 1, C_n(1 f_n(x)) = 0$;
 \item[III] $R_n(r_n, f_n(x)) = 1$, если $C_n(1 f_n(x)) = 1, C_n(0 f_n(x)) = 0$;
\end{itemize}

Тогда легко проверить, что 

\[
 |R_n(r_n, x)| = |P[C_n(h_n(x)f_n(x)) = 1] - P[C_n(r_n f_n(x)) = 1]| > \frac{1}{s(n)}
\]

Это значит, что $\{R_n\}$ обращает функцию $f_n$. Противоречие. $\Box$



\paragraph{Лемма (о сглаживании)} Пусть $H$ - универсальное семейство хэш-функций с параметрами $(m, s)$, $h = \uniform(H)$, $x$ - случайная велечина в $\{0, 1\}^m$, $H_1(x) \geq k$, $r = \uniform(\{0, 1\}^s)$ (!!!! почему и там и там s), $L_1(\alpha, \beta) = \sum\limits_y |P[\alpha=y] - P[\beta=y]|$.

Тогда

\[
 (h(x), h) \sim\limits_{2^{\frac{s - k}{2}}} (r, h)
 
 (h(x), h) \stackrel{~}{7546} (r, h)
\]
где $\sim$ понимается в смысле $L_1$ расстояния.

$\triangle$ Пусть $|H| = 2^l$. Одно из неравенств далее следует из того, что $E \xi^2 \geq (E \xi)^2$.

$L_1 = \sum\limits_{h, a} |2^{-l} P_x[h(x) = a] - 2^{-l-s}| \leq

E_{h, a} |P_x[h(x) = a] 2^s - 1|$ \leq $\sqrt{E_{h, a} (P_x[h(x) = a] 2^s - 1)^2} \leq

\sqrt{E_{h, a} (2^s \sum\limits_x P(x) \mathbb{I}[h(x) = a] - 1)^2} \leq

\sqrt{E_{h, a} (2^s \sum\limits_{x_1} P(x_1) \mathbb{I}[h(x_1) = a] - 1)} \sqrt{E_{h, a} (2^s \sum\limits_{x_2} P(x_2) \mathbb{I}[h(x_2) = a] - 1)} =

\sqrt{E_{h, a} (\sum\limits_{x_1, x_2} 2^{2s} P(x_1) P(x_2) \mathbb{I}[h(x_1) = h(x_2) = a]) + Q} = (*)$

$Q$ - остаток, и $Q = E_{h, a}(1 - 2^{s + 1} \sum\limits_x P(x) \mathbb{I}[h(x)=a]) = 1 + (-2) = -1$.

$E_h(\mathbb{I}[h(x_1) = h(x_2) = a]) = 2^{-2s}$, если $x_1 \neq x_2$, и $2^{-s}$ в другом случае. Для того, чтобы посчитать сумму в (*), прибавим и вычтем этот член.

Из условия $H_1(x)  \geq k$ вытекает, что $\sum\limits_x P^2(x)} \leq 2^{-k}$ (используется в последнем неравенстве).

$(*) = \sqrt{1 - (\sum\limits_{(x, x)} P^2(x) - \sum\limits_{(x, x)} 2^{s} P^2(x) ) - 1} = 
\sqrt{\sum\limits_x (2^s - 1) P^2 (x)} =
\sqrt{(2^s - 1) \sum\limits_x P^2(x)} \leq
\sqrt{2^s 2^{-k}} =
2^{\frac{s - k}{2}}
$

$\Box$
\end{document}